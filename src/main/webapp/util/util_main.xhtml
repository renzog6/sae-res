<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:p="http://primefaces.org/ui"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                template="template.xhtml">
    <f:metadata>  
        <f:event type="preRenderView" listener="#{dtUtilBean.init()}" />  
    </f:metadata> 

    <ui:define name="content">
        <f:view>
            <h:form id="mainForm" >
                <div class="ui-g">
                    <div class="ui-g-12 ui-md-6 ui-lg-3">
                        <p:dataTable id="tblMarca" value="#{dtMarcaBean.list}" var="item">
                            <f:facet name="header">
                                Lista de Marcas.
                            </f:facet>

                            <p:column headerText="ID" style="width:20%;text-align: center">                        
                                <h:outputText value="#{item.id}"/>
                            </p:column>
                            <p:column headerText="Marca" style="width:70%;text-align: center">
                                <h:outputText value="#{item.nombre}" />                           
                            </p:column>
                            <p:column headerText="X" style="width:10%;text-align: center">
                                <p:commandButton onclick="PF('dlgRemoveMarca').show()" id="iconOnly" icon="ui-icon-trash" title="Borrar." >
                                    <f:ajax listener="#{dtMarcaBean.initRemove(item.id)}" />
                                </p:commandButton>                                
                            </p:column>

                            <f:facet name="footer">
                                <p:commandButton id="btnMarca" value="Agregar" onclick="PF('dlgMarca').show();" update="messages" styleClass="ui-priority-primary">
                                    <f:ajax listener="#{dtMarcaBean.initCreate()}" />
                                </p:commandButton>
                            </f:facet>                    
                        </p:dataTable>
                    </div>

                    <div class="ui-g-12 ui-md-6 ui-lg-3">
                        <p:dataTable value="#{dtEquipoCategoriaBean.list}" var="item">
                            <f:facet name="header">
                                Categorias de Equipos.
                            </f:facet>
                            <p:column headerText="ID" style="width:20%;text-align: center">                        
                                <h:outputText value="#{item.id}"/>
                            </p:column>
                            <p:column headerText="Marca" style="width:80%;text-align: center">
                                <h:outputText value="#{item.nombre}" />                           
                            </p:column>
                            <p:column headerText="X" style="width:10%;text-align: center">
                                <p:commandButton onclick="PF('dlgRemoveMarca').show()" id="iconOnly" icon="ui-icon-trash" title="Borrar." >
                                    <f:ajax listener="#{dtMarcaBean.initRemove(item.id)}" />
                                </p:commandButton>                                
                            </p:column>
                            <f:facet name="footer">
                                <p:commandButton id="btnMarca" value="Agregar" onclick="PF('dlgMarca').show();" update="messages" styleClass="ui-priority-primary">
                                    <f:ajax listener="#{dtMarcaBean.initCreate()}" />
                                </p:commandButton>
                            </f:facet>                     
                        </p:dataTable>
                    </div>

                    <div class="ui-g-12 ui-md-6 ui-lg-3">ui-g-12 ui-md-6 ui-lg-3</div>
                    <div class="ui-g-12 ui-md-6 ui-lg-3">ui-g-12 ui-md-6 ui-lg-3</div>
                </div>

                <ui:include src="marca_form.xhtml" />
                <ui:include src="marca_dialog.xhtml" />

            </h:form>
        </f:view>   
    </ui:define>
</ui:composition>

